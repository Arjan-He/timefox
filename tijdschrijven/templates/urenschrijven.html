{% extends "base.html" %}
{% block title %}<title>TimeFox - Tijdschrijven</title>{% endblock %}

{% block extracss %}
{% load static %}
<link rel="stylesheet" href="{% static 'plugins/jquery-ui-1.12.1/jquery-ui-flick.css' %}">
{% endblock %}

{% block extrajs %}

<script src="{% static 'plugins/jquery-ui-1.12.1/jquery-ui.min.js' %}"></script>
<script src="{% static 'plugins/weekpicker/jquery.weekpicker.js' %}"></script>
<script src="{% static 'js/functions.js' %}"></script>

{% endblock %}


{% block content %}

<h1>Tijdschrijven</h1>

<form method="POST" id='formGrid' action="{% url 'urenschrijven' %}">
  {% csrf_token %}

<input type="text" id="weekPicker" value="{{ datum }}">

<table class="table">
    <thead class="thead-light">
      <tr>
        <th class="ts-projecttitel" scope="col">Project</th>
        {% for day in dagenindeweek %}
        <th class="ts-dowtitel">{{day}}</th>
        {% endfor %}
        <th>totaal</th>
      </tr>
    </thead>
    <tbody>
      {% for i in tijdgrid %}

      {% if forloop.counter0|divisibleby:7 %}
        {% if forloop.counter0 > 0 %} <td></td></tr> {% endif %}
        <tr><td>{{ i.Titel }}</td>
      {% endif %}

      <td><input class="ts-urenvak" 
                 type="text" 
                 id="{{ i.abonnementID }}-{{ forloop.counter0 }}" 
                 name="cell_{{ i.abonnementID }}_{% if i.tijdID == None %}0{% else %}{{ i.tijdID }}{% endif %}_{{ i.datum }}"
                 value="{% if i.TijdsDuur == None %}{% else %}{{ i.TijdsDuur }} {% endif %}"></td>

      {% if forloop.last %}<td></td></tr>{% endif %} 
      {% endfor %}

    </tbody>
    </table>


    <input type="submit" name='saveGrid' value="Submit">


</form>


{% endblock %}