{% extends "base.html" %}
{% block title %}<title>TimeFox - Tijdschrijven</title>{% endblock %}

{% block extracss %}
{% load static %}
<link rel="stylesheet" href="{% static 'plugins/jquery-ui-1.12.1/jquery-ui-flick.css' %}">
<link rel="stylesheet" href="{% static 'plugins/datatables/datatables-1.10.23.min.css' %}">
{% endblock %}

{% block extrajs %}
<script src="{% static 'plugins/datatables/datatables-1.10.23.min.js' %}"></script>
<script src="{% static 'plugins/jquery-ui-1.12.1/jquery-ui.min.js' %}"></script>
<script src="{% static 'plugins/weekpicker/jquery.weekpicker.js' %}"></script>
<script src="{% static 'js/functions.js' %}"></script>

{% endblock %}


{% block content %}

<h1>Tijdschrijven</h1>

<form method="POST" id='formGrid' action="{% url 'urenschrijven' %}">
  {% csrf_token %}

<input type="text" id="weekPicker" value="{{ datum }}">

<table class="table" id="tijdgrid">


    {# first the header and footer #}
    <thead class="thead-light">
      <tr>
        <th class="ts-headtitle">Project</th>
        {% for day in dagenindeweek %}
        <th class="ts-headdow">{{ day }}</th>
        {% endfor %}
        <th class="ts-headtotaal">totaal</th>
      </tr>
    </thead>

    <tfoot>
      <tr>
        <th class='ts-totaal'>Totaal</th>
        {% for day in dagenindeweek %}
        <th class='ts-totaal'>
          <input type='number' class="ts-urenvak ts-totaal ts-dagtotaal" weekdag="{{ forloop.counter0 }}" disabled>
        </th>
        {% endfor %}
        <th class='ts-totaal'>
          <input type='number' class="ts-urenvak ts-totaal ts-eindtotaal" disabled>
        </th>
      </tr>
    </tfoot>
    {# end header and footer #}

    {% for i in tijdgrid %}

          <!-- {% ifchanged i.activiteitID %}
            {% if not forloop.first %}
              <td></td></tr>
            {% endif %}
          {% endifchanged %} -->

          {% ifchanged i.groepID %}
            <tr>
              <td>groep</td>
              {% for day in dagenindeweek %}
                <td></td>
              {% endfor %}
              <td>tot</td>
            </tr>
          {% endifchanged %}

          {% ifchanged i.projectID %}
            <tr>
            <td>{{ i.titel }}</td>
            {% for day in dagenindeweek %}
              <td></td>
            {% endfor %}
            <td>tot</td>
            </tr>
          {% endifchanged %}

          {% ifchanged i.projectactiviteitID %}
            <tr><td>{{ i.activiteit }}</td>
              {% for day in dagenindeweek %}
              <td></td>
            {% endfor %}
            <td>tot</td>
            </tr>
          {% endifchanged %}

          <!-- <td class='ts-gridcell' style='padding:0'>
            <input class="ts-urenvak" 
                  type="number" 
                  min="0"
                  max="24"
                  step="0.01"
                  id="{{ i.abonnementID }}-{{ forloop.counter0 }}" 
                  abonnementdag = "{{ i.abonnementID }}"
                  dagnummer = "{{ i.id }}"
                  name="cell_{{ i.abonnementID }}_{% if i.tijdID == None %}0{% else %}{{ i.tijdID }}{% endif %}_{{ i.datum }}"
                  originalvalue="{% if i.tijdsduur == None %}{% else %}{{ i.tijdsduur }}{% endif %}"
                  value="{% if i.tijdsduur == None %}{% else %}{{ i.tijdsduur }}{% endif %}">
          </td> -->

          <!-- {% if forloop.last %}
            <td></td></tr>
          {% endif %} -->

    {% endfor %}

    <tbody>
    </tbody>
    </table>



    <input type="submit" name='saveGrid' value="Submit">

</form>

{% endblock %}